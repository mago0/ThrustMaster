## Rocket Motor Dyno

A rocket motor dynamometer, or dyno, is a device used to measure the thrust force generated by a rocket motor. It typically consists of a test stand where the motor is mounted and a force sensor that captures the thrust produced during a motor burn. The data collected by the dyno is crucial for understanding the performance characteristics of the motor, such as its thrust curve, total impulse, and specific impulse. This information is essential for the design and safety analysis of rocket motors.


### Equipment Setup

1. Ensure the Arduino board is powered off before connecting any sensors or actuators.
2. Connect the force sensor to the `PIN_ADC_DT` and `PIN_ADC_SCK` as defined in `config.h`.
3. Attach the pyrotechnic device to `PIN_PYRO`.
4. Connect the speaker (if used) to `PIN_SPEAKER`.
5. Insert an SD card into the SD card module and connect it to the `PIN_CS`.
6. Connect the LED to `PIN_LED`.
7. Attach a button to `PIN_BTN` for starting the test sequence.

### Configuration

Before running the test, verify the following settings in `config.h`:

- `COUNTDOWN_TIME` is set to the desired countdown duration in seconds before the test starts.
- `TEST_DURATION` is the duration in seconds for which the test will run.
- `PYRO_DURATION` is the duration in milliseconds for which the pyrotechnic device will be active.
- `FILENAME` is set to the desired path and filename for the data log on the SD card.

### Running the Test

1. Power on the Arduino board.
2. Press the button connected to `PIN_BTN` to initiate the countdown.
3. Observe the LED and listen for the tone from the speaker (if enabled) during the countdown.
4. The test will automatically start after the countdown, activating the pyrotechnic device and beginning data collection.
5. Force measurements will be taken and stored in memory until the `TEST_DURATION` is reached or the maximum number of measurements (`maxMeasurements`) is collected.
6. Upon test completion, the data will be written to the SD card with the filename specified in `config.h`.
7. The LED and speaker (if enabled) will signal the end of the test sequence.

### Data Retrieval

After the test has finished, remove the SD card from the module and insert it into a computer to retrieve the `dyno.csv` file containing the time and force measurements.

### Safety Precautions

- Ensure that all connections are secure and that the equipment is in good working order before starting the test.
- Keep a safe distance from the pyrotechnic device when the test is running.
- Do not attempt to retrieve the SD card until the test has completely finished and the equipment is powered down.

### Troubleshooting

If the test does not start or there are issues with data logging, check the serial monitor for debug messages if `DEBUG` is defined in `config.h`. Ensure that the SD card is properly formatted and not write-protected.

For further assistance, refer to the `motor-dynomometer.ino` sketch comments and the `logger.h` file for debugging procedures.

### Notes

- The speaker functionality is disabled by default. To enable it, define `SPEAKER_ENABLE` in `config.h`.
- The test procedure assumes that the `initSDCard()`, `initHX711()`, and other initialization functions are correctly implemented as per the `motor-dynomometer.ino` sketch.
- End Generation Here
